<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자바스크립트 : Quiz05</title>

    <link rel="stylesheet" href="../../../javascript/assets/css/style.css">
    <link rel="stylesheet" href="../../../javascript/assets/css/dracula.css">

    <style>
        .document .btnflex{
        	display: flex;
        }
    </style>
</head>

<body>
    <header id="header">
        <!-- 시멘트태그(heaer, main, footer 등)-->
        <h1><a href="../../../javascript/index.html">Javascript_Quiz</a></h1>
        <nav class="header_nav">
            <ul class="study">
                <li><a href="quiz01.html">퀴즈 만들기1</a></li>
                <li><a href="quiz02.html">퀴즈 만들기2</a></li>
                <li><a href="quiz03.html">퀴즈 만들기3</a></li>
                <li><a href="quiz04.html">퀴즈 만들기4</a></li>
                <li><a href="quiz05.html">퀴즈 만들기5</a></li>
                <li><a href="quiz06.html">퀴즈 만들기6</a></li>
                <li><a href="search01.html">검색 이펙트1</a></li>
                <li><a href="search02.html">검색 이펙트2</a></li>
                <li><a href="animation.html">애니메이션 만들기</a></li>
            </ul>
        </nav>
    </header>
    <!-- //header -->
    <main id="main">
        <!--main start-->
        <div class="document">
            <h2 class="t_tit">퀴즈 만들기_객관식 유형(다중)</h2>
            <div class="t_desc2">
                이번시간에는 객관식 유형(다중형)을 만들어보겠습니다!
                이번엔 60문항이나 만들어야 하는데 일일히 html태그로 입력하기는 번거로우므로 
                스크립트를 잘~ 이용해서 작업해보겠습니다.
            </div>
            <div class="t_iframe" style="min-height: 1000px; padding-top: 0;">
                <iframe src="https://parkhyeonshin.github.io/Coding/javascript/effect/quizEffect05.html" frameborder="0"></iframe>
            </div>

            <div class="t_link btnflex">
                <a href="https://github.com/Parkhyeonshin/Coding/blob/main/javascript/effect/quizEffect05.html" target="_blank">원본 소스 보기</a>
                <a href="https://parkhyeonshin.github.io/Coding/javascript/effect/quizEffect05.html" target="_blank">원본 사이트</a>
            </div>
            <hr>
            <h3 class="t_tit2">HTML 소스</h3>
            <p class="t_desc">
                js를 이용해서 quiz__wrap안에 기존의 소스들을 반복해서 넣어주기 위해 안의 내용들은 제거합니다.
            </p>
            <div class="t_code">
<pre><code class="language-html">&lt;main id="main"&gt;
    &lt;div class="quiz__wrap"&gt;
    &lt;div&gt;
&lt;main&gt;
</code></pre>
            </div>
            <h3 class="t_tit2">JAVASCRIPT 소스</h3>
            <p class="t_desc2">
                exam.push(``)
                <br>quizWrap.innerHTML = exam.join('');
            </p>
            <p class="t_desc">
                const exam = []으로 배열형식으로 exam을 지정했습니다. push()메서드는 값을 배열로 넣어주는 메서드인데요. 배열로 값이 들어가는 특성때문에 ,(쉼표)로 각각
                구분이 됩니다. 그래서 저희가 원하는 기존의 소스형식대로 들어갈 수가 없게 되는겁니다. 그래서 
                추가로 push로 밀어넣은 데이터를 받은  exam을 <i>join('')을 통해서 ,(쉼표)를 제거</i>해주는 것입니다.
            </p>
            <p class="t_desc2">
                if(count >= 36){
                <br>&nbsp;&nbsp;&nbsp;&nbsp;    document.querySelector(".quiz__confirm .ex").innerHTML = count + "/" + quizInfo.length + "&lt;br&gt;합격";
                <br>} else {
                <br>&nbsp;&nbsp;&nbsp;&nbsp;    document.querySelector(".quiz__confirm .ex").innerHTML = count + "/" + quizInfo.length + "&lt;br&gt;불합격";
                <br>}
            </p>
            <p class="t_desc">
                웹디자인기능사 시험은 36개이상이면 합격입니다. 스크립트를 참고하시면 정답(.like가 붙는)의 경우에는 처음 0으로 선언된  count의 값을 1개씩 증가시켜줍니다.
                그래서 마지막에 if문의 조건에 해당하는 값은 정답의 갯수와 일치하겠죠. 그렇다면 저희가 원하는 조건은 <i>'36개이상은 합격, 36개 미만은 불합격 이겠네요!'</i>
                <br>그러므로 정답갯수가 36개 이상인 경우에는 class=ex의 태그에 
                <br><i>document.querySelector(".quiz__confirm .ex").innerHTML = count + "/" + quizInfo.length + "&lt;br&gt;합격";</i>
                <br>36개미만(=불합격)인 경우엔
                <br><i>document.querySelector(".quiz__confirm .ex").innerHTML = count + "/" + quizInfo.length + "&lt;br&gt;불합격";</i>
                <br>을 넣어주면 됩니다!
            </p>
            <div class="t_code">
<pre><code class="language-js">const quizInfo = [
    {   
        answerType : "웹디자인기능사 2013년 02회",
        answerNum: "1",
        answerAsk: "굿 디자인(good design)을 위한 디자인의 조건에 포함되지 않는 것은?",
        answerChoice: {
            1: "합목적성",
            2: "독창성",
            3: "심미성",
            4: "모방성",
        },
        answerResult: "4",
        answerEx : "디자인의 조건은 합목적성, 경제성, 심미성, 독창성, 질서성이 있습니다."
    },
    {   
        answerType : "웹디자인기능사 2013년 02회",
        answerNum: "2",
        answerAsk: "다음이 설명하는 것은? - 주어진 길이를 가장 이상적으로 나누는 비를 말하며 근사값이 약 1.619인 무리수",
        answerChoice: {
            1: "비례",
            2: "황금비율",
            3: "삼각분할",
            4: "프로포션",
        },
        answerResult: "2",
        answerEx : "황금비율(길이를 둘로 나누었을때 같은 비율)"
    },
    ...60번까지!!
];

let count = 0;
//맞춘 개수를 증가시켜주기 위해 변수는 const가 아닌 let을 이용하고, 전역변수로 선언합니다.

const quizWrap = document.querySelector(".quiz__wrap");
//기존 html의 문제가 들어가는 박스에 해당하는 부분에 js로 넣기위해 선택자로 지정해줍니다.


const updateQuiz = () => { 
    const exam = [];

    quizInfo.forEach((question, number)=>{
        exam.push(`
        &lt;div class="quiz"&gt;
            &lt;span class="quiz__type"&gt;${question.answerType}&lt;/span&gt;
            &lt;h2 class="quiz__question"&gt;
                &lt;span class="number"&gt;${question.answerNum}. &lt;/span&gt;
                &lt;div class="ask"&gt;${question.answerAsk}&lt;/div&gt;
            &lt;/h2&gt;
            &lt;div class="quiz__view"&gt;
                &lt;div class="true"&gt;정답🐾&lt;/div&gt;
                &lt;div class="false"&gt;오답 입니다!&lt;/div&gt;
                &lt;div class="dog"&gt;
                    &lt;div class="head"&gt;
                        &lt;div class="ears"&gt;&lt;/div&gt;
                        &lt;div class="face"&gt;&lt;/div&gt;
                        &lt;div class="eyes"&gt;
                            &lt;div class="teardrop"&gt;&lt;/div&gt;
                        &lt;/div&gt;
                        &lt;div class="nose"&gt;&lt;/div&gt;
                        &lt;div class="mouth"&gt;
                            &lt;div class="tongue"&gt;&lt;/div&gt;
                        &lt;/div&gt;
                        &lt;div class="chin"&gt;&lt;/div&gt;
                    &lt;/div&gt;
                    &lt;div class="body"&gt;
                        &lt;div class="tail"&gt;&lt;/div&gt;
                        &lt;div class="legs"&gt;&lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="quiz__answer"&gt;
                &lt;div class="quiz__selects"&gt;
                    &lt;label for="select1${number}"&gt;
                        &lt;input type="radio" id="select1${number}" class="select" name="select${number}" value="1" &gt;
                        &lt;span class="choice"&gt;${question.answerChoice[1]}&lt;/span&gt;
                    &lt;/label&gt;
                    &lt;label for="select2${number}"&gt;
                        &lt;input type="radio" id="select2${number}" class="select" name="select${number}" value="2" &gt;
                        &lt;span class="choice"&gt;${question.answerChoice[2]}&lt;/span&gt;
                    &lt;/label&gt;
                    &lt;label for="select3${number}"&gt;
                        &lt;input type="radio" id="select3${number}" class="select" name="select${number}" value="3" &gt;
                        &lt;span class="choice"&gt;${question.answerChoice[3]}&lt;/span&gt;
                    &lt;/label&gt;    
                    &lt;label for="select4${number}"&gt;
                        &lt;input type="radio" id="select4${number}" class="select" name="select${number}" value="4" &gt;
                        &lt;span class="choice"&gt;${question.answerChoice[4]}&lt;/span&gt;
                    &lt;/label&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        `);
    });
    exam.push(`
        &lt;div class="quiz__confirm"&gt;
            &lt;button class="check"&gt;정답 확인하기&lt;/button&gt;
            &lt;div class="ex"&gt;&lt;/div&gt;
        &lt;/div&gt;
    `)
    quizWrap.innerHTML = exam.join('');             //배열안의 쉼표제거
}
updateQuiz();



// 정답 확인
const answerQuiz = () =&gt; {
    const quizSelects = document.querySelectorAll(".quiz__selects");        //객관식 보기

    // 사용자가 체크한 보기 == 문제 정답
    quizInfo.forEach((question, number) =&gt; {
        const userSelector = `input[name=select${number}]:checked`;         //사용자가 체크한 것
        const quizSelectsWrap = quizSelects[number];
        const userAnswer = (quizSelectsWrap.querySelector(userSelector) || {}).value;
        //체크한것의 벨류값을 가져와서 비교해야 하므로 ().value 그리고 빈객체(=미선택)도 일단 가져오기위해 or사용
        const quizView = document.querySelectorAll(".quiz__view");          //강아지

        if(userAnswer == question.answerResult){
            console.log("정답")
            quizView[number].classList.add("like");
            count ++;
            
        } else{
            console.log("오답")
            quizView[number].classList.add("dislike");
            const divBox = document.createElement("div");
            quizSelectsWrap.appendChild(divBox).innerHTML = `&lt;p class=result&gt;
                ${question.answerEx}&lt;/p&gt;`;
        }
            if(count &gt;= 36){
                    document.querySelector(".quiz__confirm .ex").innerHTML = count + "/" + quizInfo.length + "&lt;br&gt;합격";
                } else {
                    document.querySelector(".quiz__confirm .ex").innerHTML = count + "/" + quizInfo.length + "&lt;br&gt;불합격";
                }
    });
</code></pre>
            </div>
            
            
        </div>
    </main> <!-- //main end -->
    <footer id="footer">
        <a href="mailto:sshin4882@naver.com">sshin4882@naver.com</a>
    </footer>
    <!-- //footer -->
    <script src="../../../javascript/assets/js/highlight.min.js"></script>
    <script>
        hljs.highlightAll();
    </script>
</body>

</html>